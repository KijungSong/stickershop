<style>
    a {
        color: black;
    }
    a:hover {
        color: black;
    }
    hr {
        border: none;
        border-top: 1px dotted lightgray;
        color: #fff;
        background-color: #fff;
        height: 1px;
        width: 90%;
    }
    #userMenu {
        width: 250px;
        height: 230px;
        border: 1px solid lightgray;
        display:none;
        position: fixed;
        left: 80%;
        top: 8%;
        z-index: 1;
        background: white;
    }
    .userDiv {
        text-align: center;
        align-content: center;
    }
    #btnDiv {
        padding-top: 10px;
        padding-bottom: 10px;
    }
    .userBtn {
        background: black;
        color: white;
        border: 0;
        outline: 0;
        font-size: 13px;
        text-align: center;
        width: 230px;
        height: 50px;
        cursor: pointer;
    }
    #userList {
        list-style:none;
        font-size: 14px;
        font-weight: normal;
    }
    #userIcon-login{
        fill: black;
    }
</style>
<script>
    $(document).ready(function () {
        $(".userIcon").mouseenter(function () {
            $(".userIcon").css('cursor', 'pointer');
            $("#userMenu").css('display', 'block');
        });
        $("#userMenu").mouseleave(function () {
            $("#userMenu").css('display', 'none');
        });
    });
</script>
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
    <a class="navbar-brand" th:href="@{/}">StickerShop&nbsp;<i style="font-size: 14px">for All Developers</i></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active dropdown">
                <!--<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    상품보기
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" th:href="@{/products}">전체보기</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#">백엔드</a>
                    <a class="dropdown-item" href="#">프론트</a>
                    <a class="dropdown-item" href="#">리눅스</a>
                    <a class="dropdown-item" href="#">TOOL</a>
                    <a class="dropdown-item" href="#">기타</a>
                </div>-->
            </li>
        </ul>
        <form class="form-inline my-2 my-lg-0" id="search" method="GET" th:action="@{/products}">
            <input class="form-control mr-sm-2" type="search" placeholder="상품을 검색하세요" aria-label="Search" id="keyword" name="keyword">
            <a href="#" onclick="document.getElementById('search').submit();">
                <svg class="i-search" viewBox="0 0 32 32" width="24" height="24" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                    <circle cx="14" cy="14" r="12" />
                    <path d="M23 23 L30 30"  />
                </svg>
            </a>
        </form>
        <ul class="nav navbar-nav navbar-right">
            <li style="padding-left: 20px;">
                <a th:href="@{/users/list}">
                    <svg class="i-heart" viewBox="0 0 32 32" width="24" height="24" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                        <path d="M4 16 C1 12 2 6 7 4 12 2 15 6 16 8 17 6 21 2 26 4 31 6 31 12 28 16 25 20 16 28 16 28 16 28 7 20 4 16 Z" />
                    </svg>
                </a>
            </li>
            <li style="padding-left: 20px;">
                <div class="userIcon" sec:authorize="isAuthenticated()">
                    <svg class="i-user" id="userIcon-login" viewBox="0 0 32 32" width="24" height="24" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                        <path d="M22 11 C22 16 19 20 16 20 13 20 10 16 10 11 10 6 12 3 16 3 20 3 22 6 22 11 Z M4 30 L28 30 C28 21 22 20 16 20 10 20 4 21 4 30 Z" />
                    </svg>
                </div>
                <div class="userIcon" sec:authorize="!isAuthenticated()">
                    <svg class="i-user" viewBox="0 0 32 32" width="24" height="24" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                        <path d="M22 11 C22 16 19 20 16 20 13 20 10 16 10 11 10 6 12 3 16 3 20 3 22 6 22 11 Z M4 30 L28 30 C28 21 22 20 16 20 10 20 4 21 4 30 Z" />
                    </svg>
                </div>
            </li>
            <li style="padding-left: 20px;">
                <a th:href="@{/orders/basket}">
                    <svg class="i-cart" viewBox="0 0 32 32" width="24" height="24" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                        <path d="M6 6 L30 6 27 19 9 19 M27 23 L10 23 5 2 2 2" />
                        <circle cx="25" cy="27" r="2" />
                        <circle cx="12" cy="27" r="2" />
                    </svg>
                </a>
            </li>
        </ul>
    </div>
</nav>
<div id="userMenu">
    <div class="userDiv">
        <div id="btnDiv">
            <a sec:authorize="!isAuthenticated()" th:href="@{/users/login}"><button type="button" class="userBtn">
                로그인
            </button></a>
            <a sec:authorize="isAuthenticated()" th:href="@{/logout}"><button type="button" class="userBtn">
                로그아웃
            </button></a>
        </div>
        <small sec:authorize="!isAuthenticated()">아직 계정이 없으신가요?<br/><a th:href="@{/users/joinform}"><strong>지금 가입하십시오.</strong></a></small>
    </div>
    <div class="userDiv" sec:authorize="isAuthenticated()">
        <span><small>아래의 이메일로 로그인 되었습니다.</small></span>
        <p><a th:href="@{/}"><small><strong th:text="${#authentication.name}"></strong></small></a></p>
    </div>
    <hr>
    <ul id="userList">
        <li>내 계정</li>
        <li><a th:href="@{/orders}">내 주문</a></li>
    </ul>
</div>